(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){t.exports={primaryColor:"#fae787"}},function(t,e,n){t.exports=n(31)},,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.r(e);var r,a=n(1),o=n.n(a),i=n(12),c=n.n(i),u=n(8),l=n(13),s=n.n(l),h=n(3),p=n.n(h),f=n(7),d=n(9);function m(){return(m=Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a("model/model.json");case 2:r=t.sent,console.log("MNIST model loaded.");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t,e,n,r){return t[4*(e*n+r)+3]}function b(t,e,n){for(var r=Math.round(e/n),a=Array(n*n).fill(0),o=0;o<n;o++)for(var i=0;i<n;i++){for(var c={j:Math.round(i*(e/n)),i:Math.round(o*(e/n))},u=Math.round(r/2),l={top:Math.max(0,c.i-u),left:Math.max(0,c.j-u),bottom:Math.min(e-1,c.i+u),right:Math.min(e-1,c.j+u)},s=0,h=0,p=l.top;p<=l.bottom;p++)for(var f=l.left;f<=l.right;f++)h+=g(t,e,p,f),s++;h/=s,a[o*n+i]=h}return d.b(a,[1,28,28,1])}function v(){return(v=Object(f.a)(p.a.mark((function t(e,n){var a,o,i,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=r){t.next=2;break}return t.abrupt("return","loading");case 2:return a=b(e,n,28),t.next=5,r.predict(a).as1D().array();case 5:for(o=t.sent,i=0,c=0;c<10;c++)o[c]>o[i]&&(i=c);return t.abrupt("return",i);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){m.apply(this,arguments)}();var w=function(){var t,e=Object(a.useState)(!1),n=Object(u.a)(e,2),r=n[0],i=n[1],c=Object(a.useState)(null),l=Object(u.a)(c,2),h=l[0],p=l[1],f=Object(a.useRef)(null);function d(t){i(!1),function(t,e){return v.apply(this,arguments)}(f.current.getContext("2d").getImageData(0,0,f.current.width,f.current.height).data,f.current.width,f.current.height).then((function(t){p(t)}))}return t=null!=h?o.a.createElement("h1",{id:"prediction"},"Did you draw a",8==h?"n ":" ",o.a.createElement("span",{id:"number"},h),"?"):o.a.createElement("h1",{id:"prediction"},"Draw a number!"),o.a.createElement("div",{className:"app"},o.a.createElement("h1",{id:"title"},"MNIST Digit Recognizer"),o.a.createElement("canvas",{ref:f,width:200,height:200,onMouseDown:function(t){i(!0);var e=f.current.getContext("2d");e.beginPath(),e.lineWidth=7,e.lineCap="round",e.strokeStyle=s.a.primaryColor},onMouseUp:d,onMouseLeave:d,onMouseMove:function(t){if(r){var e=f.current.getBoundingClientRect(),n=t.clientX-e.left,a=t.clientY-e.top,o=f.current.getContext("2d");o.lineTo(n,a),o.stroke()}}}),o.a.createElement("button",{onClick:function(){i(!1),p(null),f.current.getContext("2d").clearRect(0,0,f.current.width,f.current.height)}},"Clear"),t,o.a.createElement("a",{id:"github",href:"https://github.com/jinayjain/"},o.a.createElement("svg",{role:"img",width:"2em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("title",null,"GitHub icon"),o.a.createElement("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}))))};c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.9b26c0fb.chunk.js.map